<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gallery | Guldaar Basera Homestay</title>
  <link rel="stylesheet" href="assets/style.css">
</head>
<body>
  <header>
    <h1>Gallery</h1>
    <nav>
  <a href="/gb-ranikhet/index.html">Home</a>
  <a href="/gb-ranikhet/gallery.html">Gallery</a>
  <a href="/gb-ranikhet/blog/index.html">Blog</a>
  <a href="/gb-ranikhet/book.html">Book Now</a>
</nav>
  </header>
  <main>
    <h2>Our Photos</h2>
    <p>Coming soon...</p>
  </main>
  <footer>
    <p>Â© 2025 Guldaar Basera Homestay</p>
  </footer>
<script>
  async function loadGallery() {
    try {
      const response = await fetch('assets/manifest.json');
      const data = await response.json();

      const mainImage = document.getElementById('main-image');
      const thumbnails = document.getElementById('thumbnails');

      data.gallery.forEach((item, index) => {
        let thumb = document.createElement(item.src.endsWith('.mp4') ? 'video' : 'img');
        thumb.src = item.src;
        thumb.classList.add("thumbnail");

        if (item.src.endsWith('.mp4')) {
          thumb.controls = false;
          thumb.muted = true;
        }

        thumb.addEventListener('click', () => {
          if (item.src.endsWith('.mp4')) {
            mainImage.innerHTML = `<video src="${item.src}" controls autoplay></video>`;
          } else {
            mainImage.innerHTML = `<img src="${item.src}" alt="${item.title}">`;
          }
        });

        thumbnails.appendChild(thumb);

        // Load first item by default
        if (index === 0) {
          if (item.src.endsWith('.mp4')) {
            mainImage.innerHTML = `<video src="${item.src}" controls autoplay></video>`;
          } else {
            mainImage.innerHTML = `<img src="${item.src}" alt="${item.title}">`;
          }
        }
      });
    } catch (e) {
      console.error("Error loading manifest.json:", e);
    }
  }

  document.addEventListener("DOMContentLoaded", loadGallery);
</script>
</body>
</html>
